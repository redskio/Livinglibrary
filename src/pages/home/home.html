<meta charset="utf-8" >

<ion-header>
  <ion-navbar>
  	<button ion-button icon-only menuToggle="user-menu">
  		<ion-icon style="width: 24px; content: url(assets/images/bar_nav.png);"></ion-icon>
  	</button>
  	<ion-buttons left>
  		<button ion-button icon-only (click)="onOutLet()">
  		<ion-icon style="width: 24px; content: url(assets/images/bar_outletinfo.png);"></ion-icon>
  		</button> 
  	</ion-buttons>
 	<ion-title text-center>
  		<img style="width:30%;" src="assets/images/bar_logo.png">
  	</ion-title>
  	<ion-buttons right>
  		<button ion-button icon-only (click)="onSearch()">
  		<ion-icon style="width: 24px; content: url(assets/images/bar_search.png);"></ion-icon>
  		</button> 
  	</ion-buttons>
    <ion-buttons right>
    	<button ion-button icon-only (click)="addPage()">
  		<ion-icon style="width: 24px; content: url(assets/images/bar_write.png);"></ion-icon>
    	</button>
  	</ion-buttons>
  </ion-navbar>	
</ion-header>

<ion-content>
<ion-slides pager style="height:30%">

  <ion-slide style="background-color: black">
    	<img src="assets/images/main_1.jpg">
  </ion-slide>

  <ion-slide style="background-color: black">
        <img src="assets/images/main_2.jpg">
    
  </ion-slide>

  <ion-slide style="background-color: black">
        <img src="assets/images/main_3.jpg">
    
  </ion-slide>

</ion-slides>
 <div style="width:100%; padding-top:10px; padding-bottom:10px; text-align:center; background-color:#431922; color:white;">{{items_length}}개의 상품이 올라왔어요.</div>
 <ion-searchbar id="searchbar" style="display:none;" [(ngModel)]="searchTerm" (ionInput)="setFilteredItems()"></ion-searchbar>
 <div style="width:100%; background-color:#fafafa; color:#9a9a9a;">
  <div style="padding-left:2%; padding-top:2%; padding-bottom:2%;"> 
       <label>HOT DEAL</label>
       <button icon-only style="width:2.5rem;  background-color:transparent;"> <img src="assets/images/main_refresh.png"></button> 
       <button float-right icon-only style="width:2.5rem; background-color:transparent;"> <img src="assets/images/main_filter.png"></button>
   </div>

 <div [ngSwitch]="view" style="margin-left:1%;margin-right:1%">

    <ion-list style="height:100%;">
      <ion-item ion-card  style="margin-bottom:1%;" *ngFor="let item of items | async" (click)="onItemClick(item)" >
        <ion-item style="padding:0px;">
        <ion-thumbnail style=" min-width: 7rem; min-height: 7rem;" item-start >
          <img style="max-width: 7rem; min-width: 7rem; max-height: 7rem; min-height: 7rem;" [src]="item.imgurl1 || 'assets/images/no-photo.jpg'">
        </ion-thumbnail>
        <div style="width:100%; position:relative;">
          <label style="font-size:1.4rem;"><b>{{ item.brand }}</b></label>
          <button icon-start ion-button outline style="float:right;border-color:#431922; color:#431922;" round>
            <ion-icon style="font-size:1.4rem;" name='alarm'><timer [endTime]="item.duedate"></timer></ion-icon>
          </button>
        </div>
        <div style="width:100%; position:relative;">
          <label style="font-size:1.3rem; color:#9a9a9a;"><b>{{ item.title }}</b></label>
        </div>
        <div style="margin-top:-5px; width:45%; position:relative; float:right;">
          <label style="font-size:1.1rem; padding-top:3px; padding-bottom:3px; padding-left:7px; padding-right:7px; color:white; background-color:#431922">{{item.selling_price / item.normal_price  | percent:'1.0-0' }}</label>
          <label style="float:right; font-size:1.2rem; line-height:200%;">{{ item.selling_price|currency:'USD':true:'2.0-2' }}</label>
         </div>
        <!-- Original Price <label style="text-decoration: line-through;" >${{ item.normal_price }}</label>  -->
        </ion-item>
        <div style="padding-top:10px; padding-left:5rem;">
          <label icon-start style="float:left; font-size:1.1rem; color:gray;">
            <ion-icon name="eye"></ion-icon>   {{item._view}}
          </label>
          <label icon-start style="float:right; font-size:1.1rem; color:gray;">
            <ion-icon name="pricetags" style="font-size:1.1rem"></ion-icon>
            <label style=" font-size:0.9rem;padding:1px; margin-right:2px; color:white;background-color:gray;">KOREA</label>{{getlocationTitle(item.location)}}
          </label>
        </div>
      </ion-item>
    </ion-list>

  </div>
</div>
 <!-- <ion-fab right bottom >
   <button ion-fab (click)="addPage()">+</button>
 </ion-fab> -->
</ion-content>

